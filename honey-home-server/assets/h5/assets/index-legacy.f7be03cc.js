System.register(["./index-legacy.40218cae.js"],(function(o,r){"use strict";var e,l,i,t,n,a,s,c,u,d,g,v,p,m,h,f,b,y,S,k,w,z,x;return{setters:[o=>{e=o.c,l=o.d,i=o.k,t=o.T,n=o.t,a=o.W,s=o.a0,c=o.I,u=o.s,d=o.r,g=o.a7,v=o.b,p=o.x,m=o.S,h=o.w,f=o.a5,b=o.i,y=o.n,S=o.U,k=o.a8,w=o.D,z=o.l,x=o.a9}],execute:function(){const[r,L]=e("tag"),B={size:String,mark:Boolean,show:n,type:a("default"),color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean};var P=l({name:r,props:B,emits:["close"],setup(o,{slots:r,emit:e}){const l=o=>{o.stopPropagation(),e("close",o)},n=()=>{var e;const{type:t,mark:n,plain:a,round:u,size:d,closeable:g}=o,v={mark:n,plain:a,round:u};d&&(v[d]=d);const p=g&&i(c,{name:"cross",class:[L("close"),s],onClick:l},null);return i("span",{style:o.plain?{color:o.textColor||o.color,borderColor:o.color}:{color:o.textColor,background:o.color},class:L([v,t])},[null==(e=r.default)?void 0:e.call(r),p])};return()=>i(t,{name:o.closeable?"van-fade":void 0},{default:()=>[o.show?n():null]})}});const $=u(P),[C,I]=e("image"),j={src:String,alt:String,fit:String,position:String,round:Boolean,block:Boolean,width:y,height:y,radius:y,lazyLoad:Boolean,iconSize:y,showError:n,errorIcon:a("photo-fail"),iconPrefix:String,showLoading:n,loadingIcon:a("photo")};var E=l({name:C,props:j,emits:["load","error"],setup(o,{emit:r,slots:e}){const l=d(!1),t=d(!0),n=d(),{$Lazyload:a}=g().proxy,s=v((()=>{const r={width:p(o.width),height:p(o.height)};return m(o.radius)&&(r.overflow="hidden",r.borderRadius=p(o.radius)),r}));h((()=>o.src),(()=>{l.value=!1,t.value=!0}));const u=o=>{t.value=!1,r("load",o)},y=o=>{l.value=!0,t.value=!1,r("error",o)},x=(r,e,l)=>l?l():i(c,{name:r,size:o.iconSize,class:e,classPrefix:o.iconPrefix},null),L=()=>{if(l.value||!o.src)return;const r={alt:o.alt,class:I("img"),style:{objectFit:o.fit,objectPosition:o.position}};return o.lazyLoad?S(i("img",w({ref:n},r),null),[[k("lazy"),o.src]]):i("img",w({src:o.src,onLoad:u,onError:y},r),null)},B=({el:o})=>{const r=()=>{o===n.value&&t.value&&u()};n.value?r():z(r)},P=({el:o})=>{o!==n.value||l.value||y()};return a&&f&&(a.$on("loaded",B),a.$on("error",P),b((()=>{a.$off("loaded",B),a.$off("error",P)}))),()=>{var r;return i("div",{class:I({round:o.round,block:o.block}),style:s.value},[L(),t.value&&o.showLoading?i("div",{class:I("loading")},[x(o.loadingIcon,I("loading-icon"),e.loading)]):l.value&&o.showError?i("div",{class:I("error")},[x(o.errorIcon,I("error-icon"),e.error)]):void 0,null==(r=e.default)?void 0:r.call(e)])}}});const D=u(E),[F,R]=e("card"),T={tag:String,num:y,desc:String,thumb:String,title:String,price:y,centered:Boolean,lazyLoad:Boolean,currency:a("Â¥"),thumbLink:String,originPrice:y};var U=l({name:F,props:T,emits:["click-thumb"],setup(o,{slots:r,emit:e}){const l=()=>{if(r.tag||o.tag)return i("div",{class:R("tag")},[r.tag?r.tag():i($,{mark:!0,type:"danger"},{default:()=>[o.tag]})])},t=()=>{if(r.thumb||o.thumb)return i("a",{href:o.thumbLink,class:R("thumb"),onClick:o=>e("click-thumb",o)},[r.thumb?r.thumb():i(D,{src:o.thumb,fit:"cover",width:"100%",height:"100%",lazyLoad:o.lazyLoad},null),l()])},n=()=>{const r=o.price.toString().split(".");return i("div",null,[i("span",{class:R("price-currency")},[o.currency]),i("span",{class:R("price-integer")},[r[0]]),x("."),i("span",{class:R("price-decimal")},[r[1]])])};return()=>{var e,l,a;const s=r.num||m(o.num),c=r.price||m(o.price),u=r["origin-price"]||m(o.originPrice),d=s||c||u||r.bottom,g=c&&i("div",{class:R("price")},[r.price?r.price():n()]),v=u&&i("div",{class:R("origin-price")},[r["origin-price"]?r["origin-price"]():`${o.currency} ${o.originPrice}`]),p=s&&i("div",{class:R("num")},[r.num?r.num():`x${o.num}`]),h=r.footer&&i("div",{class:R("footer")},[r.footer()]),f=d&&i("div",{class:R("bottom")},[null==(e=r["price-top"])?void 0:e.call(r),g,v,p,null==(l=r.bottom)?void 0:l.call(r)]);return i("div",{class:R()},[i("div",{class:R("header")},[t(),i("div",{class:R("content",{centered:o.centered})},[i("div",null,[r.title?r.title():o.title?i("div",{class:[R("title"),"van-multi-ellipsis--l2"]},[o.title]):void 0,r.desc?r.desc():o.desc?i("div",{class:[R("desc"),"van-ellipsis"]},[o.desc]):void 0,null==(a=r.tags)?void 0:a.call(r)]),f])]),h])}}});o("C",u(U))}}}));
