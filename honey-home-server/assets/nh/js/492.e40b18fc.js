"use strict";(self["webpackChunkdemacia_shop"]=self["webpackChunkdemacia_shop"]||[]).push([[492],{6492:function(e,s,a){a.r(s),a.d(s,{default:function(){return c}});var r=function(){var e=this,s=e.$createElement,a=e._self._c||s;return a("div",{staticClass:"reg"},[a("router-link",{attrs:{to:"/"}},[a("img",{staticClass:"logo",attrs:{src:"https://img0.baidu.com/it/u=3790566103,2185063526&fm=253&fmt=auto&app=138&f=PNG?w=500&h=373",alt:""}})]),a("van-form",{on:{submit:e.onSubmit}},[a("van-field",{attrs:{name:"userName",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},model:{value:e.userName,callback:function(s){e.userName=s},expression:"userName"}}),a("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.password,callback:function(s){e.password=s},expression:"password"}}),a("van-field",{attrs:{type:"password",name:"repassword",label:"确认密码",placeholder:"请再次输入密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.repassword,callback:function(s){e.repassword=s},expression:"repassword"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("注册")])],1)],1),a("router-link",{attrs:{to:{name:"Login"}}},[e._v("已有账号，我要登录")])],1)},t=[],o=a(8398),n=a(4540),i=a(1753),u={data(){return{userName:"",password:"",repassword:""}},methods:{async onSubmit(){if(this.password!=this.repassword)return void(0,o.Z)({message:"两次输入的密码不一致",type:"warning"});const e=await(0,n.Gc)({userName:this.userName,password:this.password});console.log(e),1==e.code?((0,o.Z)({message:"注册成功",type:"success"}),(0,i.o4)(e.data),this.$router.push({name:"Login"}),this.$store.dispatch("loadCarts"),this.$router.replace({name:"User"})):(0,o.Z)({message:"注册异常",type:"danger"})}}},l=u,d=a(3736),p=(0,d.Z)(l,r,t,!1,null,"5ec1779a",null),c=p.exports},4540:function(e,s,a){a.d(s,{Gc:function(){return o},UO:function(){return t}});var r=a(5972);const t=e=>(0,r.v_)("/api/v1/auth/login",e),o=e=>(0,r.v_)("/api/v1/auth/reg",e)}}]);
//# sourceMappingURL=492.e40b18fc.js.map