"use strict";(self["webpackChunkdemacia_shop"]=self["webpackChunkdemacia_shop"]||[]).push([[738],{6738:function(e,t,a){a.r(t),a.d(t,{default:function(){return d}});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login"},[a("router-link",{attrs:{to:"/"}},[a("img",{staticClass:"logo",attrs:{src:"https://img2.baidu.com/it/u=990202345,2924410068&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=320",alt:""}})]),a("van-form",{on:{submit:e.onSubmit}},[a("van-field",{attrs:{name:"userName",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}}),a("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("登录")])],1)],1),a("router-link",{attrs:{to:{name:"Reg"}}},[e._v("没有账号，我要注册")])],1)},s=[],n=a(6198),u=(a(8975),a(4916),a(5306),a(8398)),o=a(4540),i=a(1753),c={data:function(){return{userName:"",password:""}},methods:{onSubmit:function(){var e=this;return(0,n.Z)(regeneratorRuntime.mark((function t(){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,o.UO)({userName:e.userName,password:e.password});case 2:a=t.sent,1==a.code?((0,u.Z)({message:"登录成功",type:"success"}),(0,i.o4)(a.data),e.$router.push({name:"User"}),e.$store.dispatch("loadCarts"),e.$router.replace({name:"User"})):(0,u.Z)({message:a.data,type:"warning"});case 4:case"end":return t.stop()}}),t)})))()}}},l=c,m=a(3736),p=(0,m.Z)(l,r,s,!1,null,"37731f58",null),d=p.exports},4540:function(e,t,a){a.d(t,{Gc:function(){return n},UO:function(){return s}});var r=a(5972),s=function(e){return(0,r.v_)("/api/v1/auth/login",e)},n=function(e){return(0,r.v_)("/api/v1/auth/reg",e)}}}]);
//# sourceMappingURL=738-legacy.54858898.js.map