"use strict";(self["webpackChunkdemacia_shop"]=self["webpackChunkdemacia_shop"]||[]).push([[771],{3771:function(t,e,n){n.r(e),n.d(e,{default:function(){return d}});var c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"cart"},[n("van-nav-bar",{attrs:{title:"购物车","left-text":"返回","right-text":"首页","left-arrow":"",border:""},on:{"click-left":t.onClickLeft,"click-right":t.onClickRight}}),t._l(t.datalist,(function(e){return n("div",{key:e.id,staticClass:"cartList"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.checked2,expression:"checked2"}],staticClass:"checked1",attrs:{type:"checkbox"},domProps:{value:e,checked:Array.isArray(t.checked2)?t._i(t.checked2,e)>-1:t.checked2},on:{change:[function(n){var c=t.checked2,a=n.target,i=!!a.checked;if(Array.isArray(c)){var r=e,s=t._i(c,r);a.checked?s<0&&(t.checked2=c.concat([r])):s>-1&&(t.checked2=c.slice(0,s).concat(c.slice(s+1)))}else t.checked2=i},t.handleItemChecked]}}),n("div",{staticClass:"cartList-right"},[n("van-card",{attrs:{price:e.price,desc:"非常棒的商品",title:e.product.name,thumb:e.product.coverImage},on:{"click-thumb":function(n){return t.toDetail(e)}},scopedSlots:t._u([{key:"tags",fn:function(){return[n("van-tag",{attrs:{plain:"",type:"danger"}},[t._v("标签")]),n("van-tag",{attrs:{plain:"",type:"danger"}},[t._v("标签")])]},proxy:!0},{key:"footer",fn:function(){return[n("van-button",{attrs:{size:"mini",disabled:1===e.amount},on:{click:function(t){e.amount--}}},[t._v("减一件")]),n("span",{staticClass:"number",domProps:{innerHTML:t._s(e.amount)}}),n("van-button",{attrs:{size:"mini",disabled:e.amount===e.limit},on:{click:function(t){e.amount++}}},[t._v("加一件")])]},proxy:!0}],null,!0)}),n("button",{staticClass:"del",on:{click:function(n){return t.del(e)}}},[t._v("删除")])],1)])})),n("van-submit-bar",{attrs:{price:t.sum(),"button-text":"提交订单"},on:{submit:t.onSubmit}},[n("van-checkbox",{on:{change:t.handleAllChecked},model:{value:t.isAll,callback:function(e){t.isAll=e},expression:"isAll"}},[t._v("全选")])],1)],2)},a=[],i=n(6198),r=(n(1249),n(1539),n(4747),n(8975),n(2809)),s={data:function(){return{checked2:[],isAll:!1,datalist:[]}},created:function(){this.cartList()},methods:{del:function(t){var e=this;return(0,i.Z)(regeneratorRuntime.mark((function n(){var c;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,(0,r.WZ)(t.id);case 2:c=n.sent,console.log(c),e.cartList();case 5:case"end":return n.stop()}}),n)})))()},cartList:function(){var t=this;return(0,i.Z)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,(0,r.NY)();case 2:n=e.sent,t.datalist=n.data,console.log(n.data),console.log(n.data.map((function(t){return t.product})));case 6:case"end":return e.stop()}}),e)})))()},sum:function(){var t=0;return this.checked2.forEach((function(e){t+=e.price*e.amount})),100*t},onClickLeft:function(){this.$router.go(-1)},onClickRight:function(){this.$router.push({name:"home"})},handleItemChecked:function(){this.checked2.length===this.datalist.length?this.isAll=!0:this.isAll=!1},handleAllChecked:function(){this.isAll?this.checked2=this.datalist:this.checked2=[]},onSubmit:function(){0!=this.checked2.length?this.$router.push({name:"Submit",query:{dataName:this.checked2}}):this.$toast("未选中商品")},toDetail:function(t){this.$router.push({name:"detail",params:{id:t.product.id}})}}},o=s,u=n(3736),l=(0,u.Z)(o,c,a,!1,null,"ba1c2398",null),d=l.exports}}]);
//# sourceMappingURL=771-legacy.5eeecbe2.js.map