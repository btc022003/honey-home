"use strict";(self["webpackChunkdemacia_shop"]=self["webpackChunkdemacia_shop"]||[]).push([[738],{6738:function(e,a,s){s.r(a),s.d(a,{default:function(){return d}});var t=function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("div",{staticClass:"login"},[s("router-link",{attrs:{to:"/"}},[s("img",{staticClass:"logo",attrs:{src:"https://img2.baidu.com/it/u=990202345,2924410068&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=320",alt:""}})]),s("van-form",{on:{submit:e.onSubmit}},[s("van-field",{attrs:{name:"userName",label:"用户名",placeholder:"用户名",rules:[{required:!0,message:"请填写用户名"}]},model:{value:e.userName,callback:function(a){e.userName=a},expression:"userName"}}),s("van-field",{attrs:{type:"password",name:"password",label:"密码",placeholder:"密码",rules:[{required:!0,message:"请填写密码"}]},model:{value:e.password,callback:function(a){e.password=a},expression:"password"}}),s("div",{staticStyle:{margin:"16px"}},[s("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("登录")])],1)],1),s("router-link",{attrs:{to:{name:"Reg"}}},[e._v("没有账号，我要注册")])],1)},r=[],n=s(8398),o=s(4540),u=s(1753),i={data(){return{userName:"",password:""}},methods:{async onSubmit(){const e=await(0,o.UO)({userName:this.userName,password:this.password});1==e.code?((0,n.Z)({message:"登录成功",type:"success"}),(0,u.o4)(e.data),this.$router.push({name:"User"}),this.$store.dispatch("loadCarts"),this.$router.replace({name:"User"})):(0,n.Z)({message:e.data,type:"warning"})}}},l=i,c=s(3736),m=(0,c.Z)(l,t,r,!1,null,"37731f58",null),d=m.exports},4540:function(e,a,s){s.d(a,{Gc:function(){return n},UO:function(){return r}});var t=s(5972);const r=e=>(0,t.v_)("/api/v1/auth/login",e),n=e=>(0,t.v_)("/api/v1/auth/reg",e)}}]);
//# sourceMappingURL=738.e2e91af2.js.map