(function(){"use strict";var e={3332:function(e,t,n){n(6992),n(8674),n(9601),n(7727),n(7327),n(1539),n(6755);var r=n(8935),a=n(2795),o=(n(415),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view",{staticClass:"main"}),n("TabBar")],1)}),i=[],u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-tabbar",{directives:[{name:"show",rawName:"v-show",value:e.isShowTabBar,expression:"isShowTabBar"}],attrs:{fixed:!1,route:""},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("van-tabbar-item",{attrs:{name:"home",icon:"home-o",to:{name:"home"}}},[e._v("首页")]),n("van-tabbar-item",{attrs:{name:"search",icon:"fire-o",to:{name:"list"}}},[e._v("热卖")]),n("van-tabbar-item",{attrs:{name:"friends",icon:"cart-o",to:{name:"cart"}}},[e._v("购物车")]),n("van-tabbar-item",{attrs:{name:"setting",icon:"user-o",to:{name:"user"}}},[e._v("用户")])],1)},c=[],s={data:function(){return{active:"home",isShowTabBar:!0}},watch:{$route:function(e){e.meta.hideTabBar?this.isShowTabBar=!1:this.isShowTabBar=!0}}},f=s,d=n(3736),l=(0,d.Z)(f,u,c,!1,null,null,null),p=l.exports,m={components:{TabBar:p}},h=m,v=(0,d.Z)(h,o,i,!1,null,null,null),g=v.exports,b=(n(8783),n(3948),n(9624)),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("van-search",{attrs:{placeholder:"请输入搜索关键词","input-align":"center",shape:"round",background:"#4fc08d"},on:{search:e.searchData},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._l(e.datalist,(function(t){return n("ul",{key:t.name},[n("li",{on:{click:function(n){return e.tiaozhuan(t)}}},[e._v(e._s(t.name))])])})),n("van-swipe",{attrs:{autoplay:3e3}},e._l(e.images,(function(e){return n("van-swipe-item",{key:e.imageUrl,staticClass:"van-swipe-item"},[n("img",{attrs:{src:e.imageUrl}})])})),1),n("van-grid",{attrs:{"column-num":4}},e._l(e.categories,(function(t){return n("van-grid-item",{key:t.id,attrs:{icon:e._f("dalImg")(t.coverImage),text:t.name,to:{name:"list",query:{t:t.id}}}})})),1),n("van-list",{staticClass:"content",attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.loadData},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.products,(function(t,r){return n("van-card",{key:t.uuid,attrs:{num:"1",tag:r+1+"",price:t.price.toFixed(2),desc:t.desc,title:t.name,thumb:t.coverImage,"origin-price":(1.2*t.price).toFixed(2)},on:{"click-thumb":function(n){return e.toDetail(t)}}})})),1)],2)},w=[],_=n(4479),k=n(6198),x=(n(8975),n(6166)),T=n.n(x),j=n(1706),B=n(2809),S={name:"HomeView",data:function(){return{value:"",datalist:[],images:[],categories:[],products:[],page:1,pages:1,loading:!1,finished:!1}},components:{},mounted:function(){var e=this;T().get("https://net-music.penkuoer.com/banner").then((function(t){e.images=t.data.banners}))},created:function(){this.loadData()},methods:{tiaozhuan:function(e){this.$router.push({name:"detail",params:{id:e.id}})},searchData:function(){var e=this;return(0,k.Z)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,B.Bv)();case 2:n=t.sent,console.log(n),e.datalist=n.data;case 5:case"end":return t.stop()}}),t)})))()},loadData:function(){var e=this;return(0,k.Z)(regeneratorRuntime.mark((function t(){var n,r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,(0,j.g)();case 2:return r=t.sent,e.categories=r.data,t.next=6,(0,B.jH)(e.page,e.$route.query.t);case 6:a=t.sent,e.page++,e.pages=a.pages,(n=e.products).push.apply(n,(0,_.Z)(a.data)),e.loading=!1,e.page>e.pages&&(e.finished=!0);case 12:case"end":return t.stop()}}),t)})))()},toDetail:function(e){this.$router.push({name:"detail",params:{id:e.id}})}}},C=S,Z=(0,d.Z)(C,y,w,!1,null,null,null),F=Z.exports;n(1753);r.Z.use(b.Z);var O=[{path:"/",name:"home",component:F},{path:"/List",name:"list",component:function(){return n.e(443).then(n.bind(n,8061))}},{path:"/list/:id/:name?",name:"detail",component:function(){return n.e(921).then(n.bind(n,3921))},meta:{hideTabBar:!0}},{path:"Submit",name:"Submit",component:function(){return n.e(160).then(n.bind(n,9160))},meta:{hideTabBar:!0}},{path:"/Cart",name:"cart",component:function(){return n.e(771).then(n.bind(n,3771))},meta:{needLogin:!0,hideTabBar:!0}},{path:"/User",name:"user",component:function(){return n.e(909).then(n.bind(n,6909))}},{path:"/Search",name:"search",component:function(){return n.e(122).then(n.bind(n,6122))}},{path:"/Login",name:"Login",component:function(){return n.e(738).then(n.bind(n,6738))},meta:{hideTabBar:!0}},{path:"/Reg",name:"Reg",component:function(){return n.e(492).then(n.bind(n,6492))},meta:{hideTabBar:!0}}],E=new b.Z({routes:O,mode:"hash"}),P=E,L=n(5972);r.Z.use(a.ZP),r.Z.config.productionTip=!1,r.Z.filter("dalImg",(function(e){return e?e.startsWith("http")?e:L.KB+e:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg.jj20.com%2Fup%2Fallimg%2F1111%2F05161Q64001%2F1P516164001-3-1200.jpg&refer=http%3A%2F%2Fimg.jj20.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1652320995&t=2ed5b060fa40721da102bc9b892a17f3"})),new r.Z({router:P,render:function(e){return e(g)}}).$mount("#app")},1706:function(e,t,n){n.d(t,{g:function(){return a}});var r=n(5972),a=function(){return(0,r.U2)("/api/v1/product_categories")}},2809:function(e,t,n){n.d(t,{Bv:function(){return u},NY:function(){return s},WZ:function(){return f},bj:function(){return c},bx:function(){return a},jH:function(){return o},xT:function(){return i}});var r=n(5972),a=function(e,t){return(0,r.U2)("/api/v1/products",{page:e,per:t})},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return(0,r.U2)("/api/v1/products",{page:e,category:t})},i=function(e){return(0,r.U2)("/api/v1/products/"+e)},u=function(){return(0,r.U2)("/api/v1/products")},c=function(e,t,n){return(0,r.v_)("/api/v1/shop_carts",{product:e,amount:t,price:n})},s=function(){return(0,r.U2)("/api/v1/shop_carts")},f=function(e){return(0,r.IV)("/api/v1/shop_carts/"+e)}},1753:function(e,t,n){n.d(t,{LP:function(){return a},gy:function(){return o},o4:function(){return r}});n(5972);var r=function(e){return sessionStorage.setItem("token",e)},a=function(){return sessionStorage.getItem("token")},o=function(){return sessionStorage.removeItem("token")}},5972:function(e,t,n){n.d(t,{IV:function(){return p},KB:function(){return s},U2:function(){return d},v_:function(){return l}});n(1539);var r=n(6166),a=n.n(r),o=n(9879),i=n.n(o),u=n(1753),c=n(8398),s="",f=a().create({baseURL:s,timeout:5e3});f.interceptors.request.use((function(e){return i().start(),e.headers.token=(0,u.LP)(),e}),(function(e){return Promise.reject(e)})),f.interceptors.response.use((function(e){return i().done(),e.data}),(function(e){var t;return console.dir(e),null!==(t=e.response)&&void 0!==t&&t.data&&(0,c.Z)({message:e.response.status+(e.response.data.message?e.response.data.message:e.response.data.info),type:"danger"}),i().done(),Promise.reject(e)}));var d=function(e,t){return f.get(e,{params:t})},l=function(e,t){return f.post(e,t)},p=function(e){return f.delete(e)}}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,o){if(!r){var i=1/0;for(f=0;f<e.length;f++){r=e[f][0],a=e[f][1],o=e[f][2];for(var u=!0,c=0;c<r.length;c++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[c])}))?r.splice(c--,1):(u=!1,o<i&&(i=o));if(u){e.splice(f--,1);var s=a();void 0!==s&&(t=s)}}return t}o=o||0;for(var f=e.length;f>0&&e[f-1][2]>o;f--)e[f]=e[f-1];e[f]=[r,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+(443===e?"about":e)+"-legacy."+{122:"87f69750",160:"e21aafb2",443:"9f434423",492:"2ca32dbd",738:"54858898",771:"5eeecbe2",909:"98a92192",921:"d8c46b27"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+(443===e?"about":e)+"."+{122:"d3b30bd9",443:"87a4c031",492:"1f928cae",738:"991fd3a8",771:"b324ac63",909:"2925df05",921:"2687d951"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="demacia-shop:";n.l=function(r,a,o,i){if(e[r])e[r].push(a);else{var u,c;if(void 0!==o)for(var s=document.getElementsByTagName("script"),f=0;f<s.length;f++){var d=s[f];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+o){u=d;break}}u||(c=!0,u=document.createElement("script"),u.charset="utf-8",u.timeout=120,n.nc&&u.setAttribute("nonce",n.nc),u.setAttribute("data-webpack",t+o),u.src=r),e[r]=[a];var l=function(t,n){u.onerror=u.onload=null,clearTimeout(p);var a=e[r];if(delete e[r],u.parentNode&&u.parentNode.removeChild(u),a&&a.forEach((function(e){return e(n)})),t)return t(n)},p=setTimeout(l.bind(null,void 0,{type:"timeout",target:u}),12e4);u.onerror=l.bind(null,u.onerror),u.onload=l.bind(null,u.onload),c&&document.head.appendChild(u)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){n.p=""}(),function(){var e=function(e,t,n,r){var a=document.createElement("link");a.rel="stylesheet",a.type="text/css";var o=function(o){if(a.onerror=a.onload=null,"load"===o.type)n();else{var i=o&&("load"===o.type?"missing":o.type),u=o&&o.target&&o.target.href||t,c=new Error("Loading CSS chunk "+e+" failed.\n("+u+")");c.code="CSS_CHUNK_LOAD_FAILED",c.type=i,c.request=u,a.parentNode.removeChild(a),r(c)}};return a.onerror=a.onload=o,a.href=t,document.head.appendChild(a),a},t=function(e,t){for(var n=document.getElementsByTagName("link"),r=0;r<n.length;r++){var a=n[r],o=a.getAttribute("data-href")||a.getAttribute("href");if("stylesheet"===a.rel&&(o===e||o===t))return a}var i=document.getElementsByTagName("style");for(r=0;r<i.length;r++){a=i[r],o=a.getAttribute("data-href");if(o===e||o===t)return a}},r=function(r){return new Promise((function(a,o){var i=n.miniCssF(r),u=n.p+i;if(t(i,u))return a();e(r,u,a,o)}))},a={143:0};n.f.miniCss=function(e,t){var n={122:1,443:1,492:1,738:1,771:1,909:1,921:1};a[e]?t.push(a[e]):0!==a[e]&&n[e]&&t.push(a[e]=r(e).then((function(){a[e]=0}),(function(t){throw delete a[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,r){var a=n.o(e,t)?e[t]:void 0;if(0!==a)if(a)r.push(a[2]);else{var o=new Promise((function(n,r){a=e[t]=[n,r]}));r.push(a[2]=o);var i=n.p+n.u(t),u=new Error,c=function(r){if(n.o(e,t)&&(a=e[t],0!==a&&(e[t]=void 0),a)){var o=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;u.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",u.name="ChunkLoadError",u.type=o,u.request=i,a[1](u)}};n.l(i,c,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,i=r[0],u=r[1],c=r[2],s=0;if(i.some((function(t){return 0!==e[t]}))){for(a in u)n.o(u,a)&&(n.m[a]=u[a]);if(c)var f=c(n)}for(t&&t(r);s<i.length;s++)o=i[s],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(f)},r=self["webpackChunkdemacia_shop"]=self["webpackChunkdemacia_shop"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(3332)}));r=n.O(r)})();
//# sourceMappingURL=app-legacy.4f134b3f.js.map