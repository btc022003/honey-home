(function(){"use strict";var e={3332:function(e,t,n){var a=n(8935),r=n(2795),o=(n(415),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view",{staticClass:"main"}),n("TabBar")],1)}),i=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("van-tabbar",{directives:[{name:"show",rawName:"v-show",value:e.isShowTabBar,expression:"isShowTabBar"}],attrs:{fixed:!1,route:""},model:{value:e.active,callback:function(t){e.active=t},expression:"active"}},[n("van-tabbar-item",{attrs:{name:"home",icon:"home-o",to:{name:"home"}}},[e._v("首页")]),n("van-tabbar-item",{attrs:{name:"search",icon:"fire-o",to:{name:"list"}}},[e._v("热卖")]),n("van-tabbar-item",{attrs:{name:"friends",icon:"cart-o",to:{name:"cart"}}},[e._v("购物车")]),n("van-tabbar-item",{attrs:{name:"setting",icon:"user-o",to:{name:"user"}}},[e._v("用户")])],1)},u=[],c={data(){return{active:"home",isShowTabBar:!0}},watch:{$route(e){e.meta.hideTabBar?this.isShowTabBar=!1:this.isShowTabBar=!0}}},d=c,l=n(3736),f=(0,l.Z)(d,s,u,!1,null,null,null),m=f.exports,p={components:{TabBar:m}},h=p,v=(0,l.Z)(h,o,i,!1,null,null,null),g=v.exports,b=n(9624),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"home"},[n("van-search",{attrs:{placeholder:"请输入搜索关键词","input-align":"center",shape:"round",background:"#4fc08d"},on:{search:e.searchData},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),e._l(e.datalist,(function(t){return n("ul",{key:t.name},[n("li",{on:{click:function(n){return e.tiaozhuan(t)}}},[e._v(e._s(t.name))])])})),n("van-swipe",{attrs:{autoplay:3e3}},e._l(e.images,(function(e){return n("van-swipe-item",{key:e.imageUrl,staticClass:"van-swipe-item"},[n("img",{attrs:{src:e.imageUrl}})])})),1),n("van-grid",{attrs:{"column-num":4}},e._l(e.categories,(function(t){return n("van-grid-item",{key:t.id,attrs:{icon:e._f("dalImg")(t.coverImage),text:t.name,to:{name:"list",query:{t:t.id}}}})})),1),n("van-list",{staticClass:"content",attrs:{finished:e.finished,"finished-text":"没有更多了"},on:{load:e.loadData},model:{value:e.loading,callback:function(t){e.loading=t},expression:"loading"}},e._l(e.products,(function(t,a){return n("van-card",{key:t.uuid,attrs:{num:"1",tag:a+1+"",price:t.price.toFixed(2),desc:t.desc,title:t.name,thumb:t.coverImage,"origin-price":(1.2*t.price).toFixed(2)},on:{"click-thumb":function(n){return e.toDetail(t)}}})})),1)],2)},w=[],_=n(6166),k=n.n(_),T=n(1706),j=n(2809),x={name:"HomeView",data(){return{value:"",datalist:[],images:[],categories:[],products:[],page:1,pages:1,loading:!1,finished:!1}},components:{},mounted(){k().get("https://net-music.penkuoer.com/banner").then((e=>{this.images=e.data.banners}))},created(){this.loadData()},methods:{tiaozhuan(e){this.$router.push({name:"detail",params:{id:e.id}})},async searchData(){const e=await(0,j.Bv)();console.log(e),this.datalist=e.data},async loadData(){const e=await(0,T.g)();this.categories=e.data;const t=await(0,j.jH)(this.page,this.$route.query.t);this.page++,this.pages=t.pages,this.products.push(...t.data),this.loading=!1,this.page>this.pages&&(this.finished=!0)},toDetail(e){this.$router.push({name:"detail",params:{id:e.id}})}}},B=x,S=(0,l.Z)(B,y,w,!1,null,null,null),C=S.exports;n(1753);a.Z.use(b.Z);const F=[{path:"/",name:"home",component:C},{path:"/List",name:"list",component:()=>n.e(443).then(n.bind(n,8061))},{path:"/list/:id/:name?",name:"detail",component:()=>n.e(921).then(n.bind(n,3921)),meta:{hideTabBar:!0}},{path:"Submit",name:"Submit",component:()=>n.e(160).then(n.bind(n,9160)),meta:{hideTabBar:!0}},{path:"/Cart",name:"cart",component:()=>n.e(771).then(n.bind(n,3771)),meta:{needLogin:!0,hideTabBar:!0}},{path:"/User",name:"user",component:()=>n.e(909).then(n.bind(n,6909))},{path:"/Search",name:"search",component:()=>n.e(122).then(n.bind(n,6122))},{path:"/Login",name:"Login",component:()=>n.e(738).then(n.bind(n,6738)),meta:{hideTabBar:!0}},{path:"/Reg",name:"Reg",component:()=>n.e(492).then(n.bind(n,6492)),meta:{hideTabBar:!0}}],O=new b.Z({routes:F,mode:"hash"});var E=O,P=n(5972);a.Z.use(r.ZP),a.Z.config.productionTip=!1,a.Z.filter("dalImg",(e=>e?e.startsWith("http")?e:P.KB+e:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg.jj20.com%2Fup%2Fallimg%2F1111%2F05161Q64001%2F1P516164001-3-1200.jpg&refer=http%3A%2F%2Fimg.jj20.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=auto?sec=1652320995&t=2ed5b060fa40721da102bc9b892a17f3")),new a.Z({router:E,render:e=>e(g)}).$mount("#app")},1706:function(e,t,n){n.d(t,{g:function(){return r}});var a=n(5972);const r=()=>(0,a.U2)("/api/v1/product_categories")},2809:function(e,t,n){n.d(t,{Bv:function(){return s},NY:function(){return c},WZ:function(){return d},bj:function(){return u},bx:function(){return r},jH:function(){return o},xT:function(){return i}});var a=n(5972);const r=(e,t)=>(0,a.U2)("/api/v1/products",{page:e,per:t}),o=(e=1,t)=>(0,a.U2)("/api/v1/products",{page:e,category:t}),i=e=>(0,a.U2)("/api/v1/products/"+e),s=()=>(0,a.U2)("/api/v1/products"),u=(e,t,n)=>(0,a.v_)("/api/v1/shop_carts",{product:e,amount:t,price:n}),c=()=>(0,a.U2)("/api/v1/shop_carts"),d=e=>(0,a.IV)("/api/v1/shop_carts/"+e)},1753:function(e,t,n){n.d(t,{LP:function(){return r},gy:function(){return o},o4:function(){return a}});n(5972);const a=e=>sessionStorage.setItem("token",e),r=()=>sessionStorage.getItem("token"),o=()=>sessionStorage.removeItem("token")},5972:function(e,t,n){n.d(t,{IV:function(){return m},KB:function(){return c},U2:function(){return l},v_:function(){return f}});var a=n(6166),r=n.n(a),o=n(9879),i=n.n(o),s=n(1753),u=n(8398);const c="",d=r().create({baseURL:c,timeout:5e3});d.interceptors.request.use((function(e){return i().start(),e.headers.token=(0,s.LP)(),e}),(function(e){return Promise.reject(e)})),d.interceptors.response.use((function(e){return i().done(),e.data}),(function(e){return console.dir(e),e.response?.data&&(0,u.Z)({message:e.response.status+(e.response.data.message?e.response.data.message:e.response.data.info),type:"danger"}),i().done(),Promise.reject(e)}));const l=(e,t)=>d.get(e,{params:t}),f=(e,t)=>d.post(e,t),m=e=>d.delete(e)}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,a,r,o){if(!a){var i=1/0;for(d=0;d<e.length;d++){a=e[d][0],r=e[d][1],o=e[d][2];for(var s=!0,u=0;u<a.length;u++)(!1&o||i>=o)&&Object.keys(n.O).every((function(e){return n.O[e](a[u])}))?a.splice(u--,1):(s=!1,o<i&&(i=o));if(s){e.splice(d--,1);var c=r();void 0!==c&&(t=c)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,r,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,a){return n.f[a](e,t),t}),[]))}}(),function(){n.u=function(e){return"js/"+(443===e?"about":e)+"."+{122:"bd4e82ae",160:"b067174f",443:"f91d630c",492:"e40b18fc",738:"e2e91af2",771:"06fe219a",909:"6c19278f",921:"b50c6552"}[e]+".js"}}(),function(){n.miniCssF=function(e){return"css/"+(443===e?"about":e)+"."+{122:"d3b30bd9",443:"87a4c031",492:"1f928cae",738:"991fd3a8",771:"b324ac63",909:"2925df05",921:"2687d951"}[e]+".css"}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="demacia-shop:";n.l=function(a,r,o,i){if(e[a])e[a].push(r);else{var s,u;if(void 0!==o)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var l=c[d];if(l.getAttribute("src")==a||l.getAttribute("data-webpack")==t+o){s=l;break}}s||(u=!0,s=document.createElement("script"),s.charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+o),s.src=a),e[a]=[r];var f=function(t,n){s.onerror=s.onload=null,clearTimeout(m);var r=e[a];if(delete e[a],s.parentNode&&s.parentNode.removeChild(s),r&&r.forEach((function(e){return e(n)})),t)return t(n)},m=setTimeout(f.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=f.bind(null,s.onerror),s.onload=f.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.p=""}(),function(){var e=function(e,t,n,a){var r=document.createElement("link");r.rel="stylesheet",r.type="text/css";var o=function(o){if(r.onerror=r.onload=null,"load"===o.type)n();else{var i=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.href||t,u=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");u.code="CSS_CHUNK_LOAD_FAILED",u.type=i,u.request=s,r.parentNode.removeChild(r),a(u)}};return r.onerror=r.onload=o,r.href=t,document.head.appendChild(r),r},t=function(e,t){for(var n=document.getElementsByTagName("link"),a=0;a<n.length;a++){var r=n[a],o=r.getAttribute("data-href")||r.getAttribute("href");if("stylesheet"===r.rel&&(o===e||o===t))return r}var i=document.getElementsByTagName("style");for(a=0;a<i.length;a++){r=i[a],o=r.getAttribute("data-href");if(o===e||o===t)return r}},a=function(a){return new Promise((function(r,o){var i=n.miniCssF(a),s=n.p+i;if(t(i,s))return r();e(a,s,r,o)}))},r={143:0};n.f.miniCss=function(e,t){var n={122:1,443:1,492:1,738:1,771:1,909:1,921:1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=a(e).then((function(){r[e]=0}),(function(t){throw delete r[e],t})))}}(),function(){var e={143:0};n.f.j=function(t,a){var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)a.push(r[2]);else{var o=new Promise((function(n,a){r=e[t]=[n,a]}));a.push(r[2]=o);var i=n.p+n.u(t),s=new Error,u=function(a){if(n.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var o=a&&("load"===a.type?"missing":a.type),i=a&&a.target&&a.target.src;s.message="Loading chunk "+t+" failed.\n("+o+": "+i+")",s.name="ChunkLoadError",s.type=o,s.request=i,r[1](s)}};n.l(i,u,"chunk-"+t,t)}},n.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,o,i=a[0],s=a[1],u=a[2],c=0;if(i.some((function(t){return 0!==e[t]}))){for(r in s)n.o(s,r)&&(n.m[r]=s[r]);if(u)var d=u(n)}for(t&&t(a);c<i.length;c++)o=i[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},a=self["webpackChunkdemacia_shop"]=self["webpackChunkdemacia_shop"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[998],(function(){return n(3332)}));a=n.O(a)})();
//# sourceMappingURL=app.b799d2f9.js.map