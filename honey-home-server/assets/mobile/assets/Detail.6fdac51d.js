import{c as m,t as T,d as h,r as C,ak as S,u as F,k as n,s as p,y,z as R,A as w,v as L,b as P,n as $,O as M,D as K,E as V,I as D,a0 as _,al as j,R as q,ai as G,ah as J,F as Y,G as Z,J as g,N as A,am as Q,H as U}from"./index.62c3c838.js";import{b as W}from"./products.901c4be2.js";import{a as X}from"./shop-carts.7c74eb23.js";import{i as tt,T as et}from"./request.5f65cc45.js";import{u as nt}from"./index.765106ab.js";import{B as at}from"./index.9a678f37.js";const[E,I]=m("action-bar"),k=Symbol(E),ot={placeholder:Boolean,safeAreaInsetBottom:T};var rt=h({name:E,props:ot,setup(t,{slots:e}){const a=C(),o=S(a,I),{linkChildren:s}=F(k);s();const c=()=>{var i;return n("div",{ref:a,class:[I(),{"van-safe-area-bottom":t.safeAreaInsetBottom}]},[(i=e.default)==null?void 0:i.call(e)])};return()=>t.placeholder?o(c):c()}});const st=p(rt),[ct,it]=m("action-bar-button"),lt=y({},R,{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean});var dt=h({name:ct,props:lt,setup(t,{slots:e}){const a=w(),{parent:o,index:s}=L(k),c=P(()=>{if(o){const r=o.children[s.value-1];return!(r&&"isButton"in r)}}),i=P(()=>{if(o){const r=o.children[s.value+1];return!(r&&"isButton"in r)}});return nt({isButton:!0}),()=>{const{type:r,icon:f,text:l,color:d,loading:B,disabled:v}=t;return n(at,{class:it([r,{last:i.value,first:c.value}]),size:"large",type:r,icon:f,color:d,loading:B,disabled:v,onClick:a},{default:()=>[e.default?e.default():l]})}}});const ut=p(dt),[ft,x]=m("action-bar-icon"),gt=y({},R,{dot:Boolean,text:String,icon:String,color:String,badge:$,iconClass:M,badgeProps:Object,iconPrefix:String});var mt=h({name:ft,props:gt,setup(t,{slots:e}){const a=w();L(k);const o=()=>{const{dot:s,badge:c,icon:i,color:r,iconClass:f,badgeProps:l,iconPrefix:d}=t;return e.icon?n(V,K({dot:s,class:x("icon"),content:c},l),{default:e.icon}):n(D,{tag:"div",dot:s,name:i,badge:c,color:r,class:[x("icon"),f],badgeProps:l,classPrefix:d},null)};return()=>n("div",{role:"button",class:x(),tabindex:0,onClick:a},[o(),e.default?e.default():t.text])}});const b=p(mt),[ht,u]=m("nav-bar"),pt={title:String,fixed:Boolean,zIndex:$,border:T,leftText:String,rightText:String,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean};var Bt=h({name:ht,props:pt,emits:["click-left","click-right"],setup(t,{emit:e,slots:a}){const o=C(),s=S(o,u),c=d=>e("click-left",d),i=d=>e("click-right",d),r=()=>a.left?a.left():[t.leftArrow&&n(D,{class:u("arrow"),name:"arrow-left"},null),t.leftText&&n("span",{class:u("text")},[t.leftText])],f=()=>a.right?a.right():n("span",{class:u("text")},[t.rightText]),l=()=>{const{title:d,fixed:B,border:v,zIndex:N}=t,O=q(N),z=t.leftArrow||t.leftText||a.left,H=t.rightText||a.right;return n("div",{ref:o,style:O,class:[u({fixed:B}),{[j]:v,"van-safe-area-top":t.safeAreaInsetTop}]},[n("div",{class:u("content")},[z&&n("div",{class:[u("left"),_],onClick:c},[r()]),n("div",{class:[u("title"),"van-ellipsis"]},[a.title?a.title():d]),H&&n("div",{class:[u("right"),_],onClick:i},[f()])])])};return()=>t.fixed&&t.placeholder?s(l):l()}});const vt=p(Bt),xt={class:"detail"},bt=["innerHTML"],Tt={__name:"Detail",setup(t){const e=C({}),a=G(),o=J(),s=async()=>{const l=await W(a.query.id);e.value=l.data},c=()=>{o.go(-1)},i=()=>{},r=()=>{tt()?X(e.value.id,1,e.value.price).then(()=>{et.success("\u52A0\u5165\u8D2D\u7269\u8F66\u6210\u529F")}):o.push({name:"Login"})},f=()=>o.push({name:"Cart"});return s(),(l,d)=>(Y(),Z("div",xt,[n(g(vt),{title:e.value.name,"left-text":"\u8FD4\u56DE","left-arrow":"",onClickLeft:c},null,8,["title"]),A("h1",null,Q(e.value.name),1),A("div",{class:"content",innerHTML:e.value.content},null,8,bt),n(g(st),null,{default:U(()=>[n(g(b),{icon:"chat-o",text:"\u5BA2\u670D",onClick:i}),n(g(b),{icon:"cart-o",text:"\u8D2D\u7269\u8F66",onClick:f}),n(g(b),{icon:"shop-o",text:"\u5E97\u94FA",onClick:i}),n(g(ut),{type:"danger",text:"\u7ACB\u5373\u8D2D\u4E70",onClick:r})]),_:1})]))}};export{Tt as default};
